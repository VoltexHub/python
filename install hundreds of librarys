import requests
import subprocess
import sys

url = "https://hugovk.github.io/top-pypi-packages/top-pypi-packages-30-days.min.json"
r = requests.get(url)
r.raise_for_status()

data = r.json()
packages = [pkg["project"] for pkg in data["rows"]]

for i, pkg in enumerate(packages[:100], 1):  # Change 100 to more if you want
    print(f"[{i}] Installing {pkg}...")
    subprocess.run([sys.executable, "-m", "pip", "install", pkg])
